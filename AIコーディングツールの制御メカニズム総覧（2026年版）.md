---
share: true
---
###### Created: 
{{date}} {{time}} 
###### Tag: 
#agent #ai-tools #coding-assistant
###### url_01:

###### url_02: 

###### memo: 
2026年2月時点の情報に基づく。各ツールのバージョンアップにより仕様が変更される可能性あり。

---

# AIコーディングツールの制御メカニズム総覧（2026年版）

AIエディタ・CLI・自律型エージェントで使われる「制御系」の仕組みは多岐にわたり混乱しがちである。本ドキュメントでは、主要ツール（**Cursor**、**Windsurf**、**Claude Code**、**Cline**、**Kilo Code**、**Roo Code**、**GitHub Copilot**、**Gemini Code Assist**、**Aider**、**Devin**等）の制御メカニズムを体系的に整理する。

## 対象ツール一覧

| ツール名 | 種別 | 提供元 | 特徴 |
|---|---|---|---|
| **Cursor** | IDE（VS Code fork） | Anysphere | Background Agents、Subagents（v2.4〜）、Agent/Editor Mode |
| **Windsurf** | IDE（AI-first） | Codeium | Cascade Agent、Arena Mode、Memory機能 |
| **Claude Code** | CLI/IDE統合 | Anthropic | ターミナルベース、Hooks、長コンテキスト対応 |
| **Cline** | VS Code拡張 | OSS | Plan/Act分離、モデル非依存、透明性重視 |
| **GitHub Copilot** | IDE拡張/Web | GitHub (Microsoft) | Agent HQ、Copilot Coding Agent、BYOK対応 |
| **Gemini Code Assist** | IDE拡張/Cloud | Google | VPC/データ残留対応、MCP対応、エンタープライズ向け |
| **Aider** | CLI（OSS） | OSS | Git native commit、リポジトリマッピング、モデル非依存 |
| **Kilo Code** | VS Code拡張/CLI（OSS） | Kilo Org | Cline fork。**Power Steering**、Orchestrator、MCP Marketplace、Skills系統、500+モデル対応 |
| **Roo Code** | VS Code拡張（OSS） | Roo Code Inc | Cline fork。Custom Modes、適応的自律制御（Manual/Auto/Hybrid）、モード別モデル選択 |
| **Devin** | 自律型Agent（Cloud） | Cognition | サンドボックス実行、ブラウザ操作、PR自動作成 |
![](AIコーディングツールの制御メカニズム総覧（2026年版）/Gemini_Generated_Image_wd94rywd94rywd94.png)
![](AIコーディングツールの制御メカニズム総覧（2026年版）/Gemini_Generated_Image_t954rt954rt954rt.png)
---

## 制御メカニズムの分類

### 1. プロジェクト文脈・指示ファイル系

AIにプロジェクト固有のルール・構造・規約を**常時**伝えるためのファイル群。

| 名称 | 対応ツール | 配置場所 | 役割・詳細 |
|---|---|---|---|
| **AGENTS.md** | Windsurf、Cursor、GitHub Copilot | リポジトリルートまたはサブディレクトリ | プロジェクト構造、ビルド方法、コード規約を記載。**配置ディレクトリに応じて自動スコープ**される（サブディレクトリに置くとそのディレクトリ以下にのみ適用）。事実上の業界標準になりつつある [[docs.windsurf](https://docs.windsurf.com/windsurf/cascade/agents-md)] [[docs.github](https://docs.github.com/en/copilot/how-tos/configure-custom-instructions/add-repository-instructions)] |
| **CLAUDE.md** | Claude Code | リポジトリルートまたはサブディレクトリ | Claude Code専用のプロジェクト文脈ファイル。ルートに置くと毎ターン自動読み込み。サブディレクトリ配置でスコープ制御可能 |
| **GEMINI.md** | Gemini Code Assist | リポジトリルート | Gemini Code Assist用のプロジェクト文脈・スタイルガイドファイル |
| **.cursor/rules/** | Cursor | `.cursor/rules/*.mdc` | **2025年1月〜推奨**。旧`.cursorrules`はレガシー化。MDC（Markdown with Config）フォーマットで、ルールごとに個別ファイルを作成。globパターンでスコープ指定、4種のトリガー（Always / Auto Attached / Agent Requested / Manual）を選択可能 [[docs.cursor](https://docs.cursor.com/en/context/rules)] |
| **.windsurfrules** | Windsurf | リポジトリルート | Windsurf版のプロジェクトルールファイル [[github](https://github.com/akapug/RuleSurf)] |
| **global_rules.md** | Windsurf | ユーザー設定 | Windsurf全プロジェクト共通のグローバルルール |
| **.github/copilot-instructions.md** | GitHub Copilot | `.github/` | リポジトリ全体に適用されるCopilotカスタム指示。Copilot Chat/Coding Agent/Code Reviewで参照される [[docs.github](https://docs.github.com/en/copilot/how-tos/configure-custom-instructions/add-repository-instructions)] |
| **パス別指示ファイル** | GitHub Copilot | `.github/instructions/*.instructions.md` | YAML frontmatterの`applyTo`でglobパターン指定し、パス単位でスコープされた指示を提供 [[docs.github](https://docs.github.com/en/copilot/how-tos/configure-custom-instructions/add-repository-instructions)] |
| **.clinerules** | Cline | リポジトリルート | Cline用のプロジェクトルールファイル |
| **.kilorules / .kilo/rules-{slug}/** | Kilo Code | リポジトリルート | Kilo Code用ルールファイル。**モード別ルール**（`.kilorules-{slug}`）でモードごとにスコープ可能。プロジェクトレベルがグローバルを完全上書き [[kilo.ai](https://kilo.ai/docs/customize/custom-modes)] |
| **.roorules / .roo/rules-{slug}/** | Roo Code | リポジトリルート | Roo Code用ルールファイル。Kilo Codeと同様のモード別スコープ機構 |

> [!tip] **AGENTS.md vs Skills の違い**
> Vercelの実験では、AGENTS.md方式（常時コンテキスト注入）が**100%成功率**だったのに対し、Skills方式（能動的呼び出し）は56%（最適化後も79%）だったと報告されている。**プロジェクト固有のルールはAGENTS.md系に記載するのが基本線**。

### 2. スキル・機能拡張系

AIの能力そのものを拡張し、**必要に応じて能動的に呼び出される**再利用可能なワークフロー・ツール。

| 名称 | 対応ツール | 役割・詳細 |
|---|---|---|
| **Skills (SKILL.md)** | Cursor（v2.4〜） | 再利用可能なワークフローや専門知識をマニフェストとしてパッケージ化。カスタムプロンプト・ツール・コマンドを定義可能 [[cursor changelog 2.4](https://cursor.com/changelog/2-4)] |
| **Slash Commands** | Cline、Claude Code、Windsurf | `/`プレフィックスで呼び出すワンショットコマンド。カスタム定義も可能 |
| **Custom Slash Commands** | Claude Code | ユーザー定義のスラッシュコマンド。プロジェクト固有のワークフローを`/`で即座に実行 |
| **Workflows** | Windsurf | `.windsurf/workflows/*.md`に定義。frontmatter + markdownで手順を記述し、スラッシュコマンドとして呼び出し可能 |
| **Custom Modes** | Kilo Code、Roo Code | エージェントの人格・役割・使用可能ツールを定義するモード機構。`slug`、`roleDefinition`、`customInstructions`、`availableTools`等をYAML/JSONで記述。Architect / Code / Debug / Ask等の組込みモードに加え、QAレビュアー等の独自モードを作成可能 [[kilo.ai](https://kilo.ai/docs/customize/custom-modes)] |
| **Agent Skills** | Kilo Code | フォルダベースの`SKILL.md`形式で軽量なスキルを定義。プロジェクトスコープ・グローバルスコープの両方に対応 [[kilo.ai](https://kilo.ai/docs/agent-behavior/skills)] |

### 3. エージェント制御・委譲系

タスクの分割・並列実行・自律的な実行を制御するメカニズム。

| 名称 | 対応ツール | 役割・詳細 |
|---|---|---|
| **Subagents** | Cursor（v2.4〜） | 特定タスクに特化した子エージェント。**独自のコンテキスト・ツール・モデルを持ち、親エージェントと並列実行**可能。テスト実行、リサーチ、ターミナル操作等を分担 [[cursor changelog 2.4](https://cursor.com/changelog/2-4)] |
| **Background Agents** | Cursor | リモートVM上で非同期実行されるエージェント。コード編集・テスト実行・PR作成を自律的に行い、Slack連携やWeb UIから管理可能。**インターネットアクセスあり** [[docs.cursor](https://docs.cursor.com/en/background-agents)] |
| **Agent HQ** | GitHub Copilot | 複数のAIモデル（Claude、Codex等）を選択してエージェントタスクを実行するハブ。PR作成・Issue対応を自動化 [[github.blog](https://github.blog/news-insights/company-news/pick-your-agent-use-claude-and-codex-on-agent-hq/)] |
| **Hooks** | Claude Code | エージェントのライフサイクルイベント（pre_execution / post_execution / on_error）にスクリプトをフック。入力検証・成果物保存・エラー通知等を自動化 |
| **Devin Agent** | Devin | クラウドサンドボックス内で完全自律実行。計画→実装→テスト→PR作成を一貫して行う。Interactive Planningで人間が介入可能 [[docs.devinenterprise](https://docs.devinenterprise.com/)] |
| **Orchestrator** | Kilo Code | 大規模タスクをサブタスクに分解し、**複数の並列エージェントを協調実行**するモード。各サブタスクに適切なモード（Code / Debug / Architect等）を自動割当 [[kilocode.ai](https://kilocode.ai/)] |

### 4. 実行制御・モード系

AIの動作モードや権限を制御し、安全性と効率のバランスを取るメカニズム。

| 名称 | 対応ツール | 役割・詳細 |
|---|---|---|
| **Plan/Act Mode** | Cline | **Plan**（読み取り専用で探索・設計）と**Act**（実装）を明確に分離。実装前に設計を確認でき、ショートカットで即座に切替可能 |
| **Agent/Editor Mode** | Cursor | Agent Mode（AIが自律的にファイル編集・コマンド実行）とEditor Mode（人間主導の編集補助）を切替 |
| **Auto-approve** | Cline、Claude Code | ファイル読み込み・コマンド実行の自動承認設定。操作種別ごとにセーフティレベルを細かく制御可能 |
| **Allowed Tools / Permissions** | Claude Code | AIが使用可能なツールをCLIフラグや設定ファイルで明示的に制限。最小権限の原則を適用 |
| **Cline Ignore** | Cline | 特定ファイル・ディレクトリをエージェントのアクセス対象から除外（`.gitignore`ライクな構文） |
| **Snapshot & Rollback** | Cline | ワークスペースのスナップショットを取得し、エージェントの変更をdiffベースでロールバック可能 |
| **Power Steering** | Kilo Code | **実験的機能**。アクティブなモードの`roleDefinition`と`customInstructions`をモデルへの各メッセージで**繰り返し再注入**し、モデルのロール遵守率を向上させる仕組み [[kilo.ai](https://kilo.ai/docs/features/experimental/experimental-features)] |
| **Adaptive Autonomy** | Roo Code | 自律レベルを**Manual / Auto / Hybrid**の3段階で制御。操作種別（ファイル編集・コマンド実行・ブラウザ操作）ごとに承認要否を設定可能 |

### 5. 外部連携・プロトコル系

AIエージェントと外部ツール・サービスを接続する標準化されたプロトコル。

| 名称 | 対応ツール | 役割・詳細 |
|---|---|---|
| **MCP (Model Context Protocol)** | Cursor、Windsurf、Claude Code、Cline、GitHub Copilot、VS Code | Anthropicが2024年11月にオープンソース化した**AIエージェントと外部ツール・APIを接続する標準プロトコル**（"USB-C for AI"）。STDIO（ローカル）とHTTP+SSE（リモート）の2トランスポートを提供。2025年中頃にVS Code/GitHub CopilotでGA化し、事実上の業界標準に [[docs.anthropic](https://docs.anthropic.com/en/docs/mcp)] [[github.blog](https://github.blog/changelog/2025-07-14-model-context-protocol-mcp-support-in-vs-code-is-generally-available)] |
| **Tool Use / Function Calling** | 各LLMプロバイダー | LLMが外部関数を呼び出すための基盤機能。MCPはこの上位レイヤーとして標準化を提供 |

> [!info] **Power Steeringの位置づけと狙い**
> Power Steeringは、LLMが長い会話の中で**ロール定義やカスタム指示から逸脱する問題（ロールドリフト）**に対処するために設計された。通常、システムプロンプトは会話冒頭で1回だけ注入されるが、Power Steeringはこれを**各ターンで繰り返し再注入**することで、モデルの一貫性を維持する。
> 
> **有効なユースケース**: セキュリティレビュー、法的文書生成、厳格なスタイル強制など、ロール遵守が重要なタスク
> **トレードオフ**: トークン消費量が増加（＝コスト増）。探索的・創造的タスクでは無効化が推奨
> **類似アプローチ**: Cursor Rules の「Always」トリガー、AGENTS.md の常時注入も同様の目的だが、Power Steeringはモード単位でより細粒度に制御できる点が特徴

> [!warning] **MCPのセキュリティ注意**
> 2025年の学術研究で、MCPサーバーの一部にツール記述とコードの不一致やプロンプトインジェクションリスクが報告されている。Anthropic公式Git MCPサーバーにも深刻な脆弱性が発見・修正された（2025年後半）。**MCPサーバーは最小権限・ネットワーク分離・監査ログを徹底すること** [[arxiv](https://arxiv.org/abs/2506.13538)] [[techradar](https://www.techradar.com/pro/security/anthropics-official-git-mcp-server-had-some-worrying-security-flaws-this-is-what-happened-next)]

### 6. メモリ・コンテキスト管理系

セッションを跨いだ知識の永続化・検索・活用を行うメカニズム。

| 名称 | 対応ツール | 役割・詳細 |
|---|---|---|
| **Memories** | Windsurf | Cascadeが会話から学習した知識を永続化。プロジェクト固有の知識を蓄積し、以降のセッションで自動参照 |
| **Memory (mem0等)** | Cline、Claude Code（拡張） | MCP経由で外部メモリサービスと連携し、セッション間の知識を永続化・検索 |
| **Notepad** | Cursor | プロジェクト固有のメモをエディタ内に保持し、コンテキストとして参照可能 |
| **@-mentions / Context Providers** | Cursor、Windsurf、Cline | `@file`、`@web`、`@docs`等で明示的にコンテキストを注入。必要な情報をピンポイントで提供 |

---

## ツール別・制御メカニズム対応マトリクス

| メカニズム | Cursor | Windsurf | Claude Code | Cline | Kilo Code | Roo Code | GitHub Copilot | Gemini Code Assist | Aider | Devin |
|---|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| **プロジェクト指示ファイル** | `.cursor/rules/` | AGENTS.md / .windsurfrules | CLAUDE.md | .clinerules | .kilorules | .roorules | `.github/copilot-instructions.md` | GEMINI.md | — | — |
| **Skills / Slash Commands** | SKILL.md / Subagents | Workflows | Custom Slash Commands | Slash Commands | Agent Skills / Custom Modes | Custom Modes | — | — | — | — |
| **Background / 自律Agent** | Background Agents | — | — | — | Orchestrator | — | Agent HQ / Coding Agent | — | — | Devin Agent |
| **Plan/Act分離** | — | — | — | ✅ | Architect Mode | Architect Mode | — | — | — | Interactive Planning |
| **Auto-approve** | — | — | ✅ | ✅ | ✅ | Adaptive Autonomy | — | — | `--yes` flag | — |
| **Power Steering** | — | — | — | — | ✅ | — | — | — | — | — |
| **MCP対応** | ✅ | ✅ | ✅ | ✅ | ✅（Marketplace） | ✅ | ✅ | ✅ | — | — |
| **メモリ永続化** | Notepad | Memories | — | MCP経由 | Memory Bank | MCP経由 | — | — | — | — |
| **Git native commit** | — | — | — | — | — | — | — | — | ✅ | ✅ |

---

## セキュリティ・ガバナンス観点の制御

エンタープライズ環境でAIコーディングツールを導入する際に考慮すべき制御メカニズム。

| 制御項目 | 説明 | 対応ツール例 |
|---|---|---|
| **BYOK（Bring Your Own Key）** | 組織のAPIキーでモデルを呼び出し、課金・データ保持を自社管理 | GitHub Copilot Enterprise、Cursor |
| **データ残留 / VPC対応** | コードがリージョン外に出ないことを保証。GDPR/HIPAA準拠 | Gemini Code Assist Enterprise |
| **ツールゲーティング** | エージェントが使用可能なツール・MCPサーバーをホワイトリストで制限 | Claude Code（Allowed Tools）、GitHub Copilot |
| **監査ログ / コミット帰属** | AIによる変更の追跡可能性を確保。プロンプト・モデル・タイムスタンプを記録 | Cursor Blame（v2.4〜）、Aider（Git commit） |
| **HITL（Human-in-the-Loop）** | エージェント生成コードのPR必須化、CI通過必須、コードオーナー承認 | 全ツール共通のベストプラクティス |
| **サンドボックス実行** | エージェントを隔離環境で実行し、本番への直接影響を防止 | Devin、Cursor Background Agents |
| **シークレットスキャン / DLP** | プロンプトや生成コードに秘密情報が含まれないことを検証 | エンタープライズ版各ツール |
| **モデルバージョン固定** | 本番ワークフローで使用するモデルIDを固定し、非互換な変更を防止 | 全ツール共通推奨 |

---

## 使い分けの指針

| 目的 | 推奨メカニズム | 補足 |
|---|---|---|
| コーディング規約・ビルドコマンドを常時伝えたい | **AGENTS.md / CLAUDE.md / .cursor/rules/** 等（常時適用） | ツールに応じた指示ファイルを選択 |
| 特定の反復可能なワークフローを構築したい | **Skills (SKILL.md)** / **Workflows** / **Custom Slash Commands** | 再利用性を重視 |
| 特定条件でのみ適用する複雑なルール | **Rules**（Cursor MDC / Windsurf frontmatter） | globパターン・トリガー条件で制御 |
| 実装前に設計を確認したい | **Plan/Act Mode**（Cline） / **Architect Mode**（Kilo/Roo） / **Interactive Planning**（Devin） | 大規模変更時に特に有効 |
| 安全な操作だけ自動化したい | **Auto-approve**（操作種別ごとに設定） | 読み取り操作のみ自動承認が推奨 |
| 外部ツール・データソースと連携したい | **MCP** | 業界標準プロトコル。SDK（TypeScript/Python）あり |
| 長時間の自律タスクを実行したい | **Background Agents** / **Agent HQ** / **Devin** | ガバナンス・サンドボックス必須 |
| セッション間で知識を保持したい | **Memories** / **Notepad** / **MCP経由メモリ** | プロジェクト固有の学習を蓄積 |
| エンタープライズガバナンスを確保したい | **BYOK + VPC + 監査ログ + HITL** | セキュリティポリシーに応じて組合せ |
| モデルのロール遵守を厳格に維持したい | **Power Steering**（Kilo Code） / **Rules Always**（Cursor） | セキュリティレビュー等の高精度タスク向け。トークンコスト増に注意 |

---

## 主要な変遷（2024〜2026年）

| 時期       | イベント                                                                            |
| -------- | ------------------------------------------------------------------------------- |
| 2024年11月 | Anthropicが**MCP**をオープンソース化                                                      |
| 2025年1月  | Cursorが`.cursor/rules/`（MDCフォーマット）を導入、旧`.cursorrules`をレガシー化                     |
| 2025年中頃  | VS Code / GitHub CopilotでMCPサポートがGA化                                            |
| 2025年6月  | CursorがBackground Agents（Web UI / Slack連携）を公開                                   |
| 2025年後半  | MCP公式Git サーバーの脆弱性が発見・修正                                                         |
| 2026年1月  | Cursor v2.4で**Subagents**・**Skills (SKILL.md)**・**Cursor Blame**を導入             |
| 2025年〜   | Cline forkとして**Kilo Code**・**Roo Code**が台頭。Custom Modes・Power Steering等の独自機能を追加 |
| 2026年〜   | AGENTS.mdが複数ツール横断の事実上の標準として定着                                                   |

---

> [!summary] **要約**
> - **「プロジェクトの独自ルール」はAGENTS.md / CLAUDE.md / .cursor/rules/ 等の指示ファイル系**に記載する
> - **「AIの新しい能力」はSkills / Workflows / Custom Slash Commands**で定義する
> - **外部連携はMCP**を標準プロトコルとして採用する
> - **自律的タスクにはBackground Agents / Agent HQ / Devin**を活用し、必ずガバナンス（HITL・サンドボックス・監査）を併用する
> - **ロール遵守の厳格化にはPower Steering**（Kilo Code）を活用し、トークンコストとのトレードオフを管理する
> - エンタープライズ環境では**BYOK・VPC・監査ログ・モデルバージョン固定**を組み合わせてセキュリティを確保する